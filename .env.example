# Database Backup Utility - Environment Variables Example
# Copy this file to .env and set your own values

# ==============================================================================
# CRITICAL SECURITY SETTINGS - REQUIRED
# ==============================================================================

# JWT Secret - REQUIRED (minimum 32 characters)
# Generate a strong random secret:
#   openssl rand -base64 48
#   or
#   python3 -c "import secrets; print(secrets.token_urlsafe(48))"
DBBACKUP_SECURITY_JWT_SECRET=your-very-strong-jwt-secret-change-this-to-a-random-value-at-least-32-chars

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================

# Server host and port
DBBACKUP_SERVER_HOST=0.0.0.0
DBBACKUP_SERVER_PORT=8080

# Server mode: development, production
DBBACKUP_SERVER_MODE=production

# TLS/HTTPS Configuration
DBBACKUP_SERVER_TLS_ENABLED=true
DBBACKUP_SERVER_TLS_CERT_FILE=/path/to/cert.pem
DBBACKUP_SERVER_TLS_KEY_FILE=/path/to/key.pem

# ==============================================================================
# STORAGE PROVIDERS
# ==============================================================================

# Default storage provider: local, s3, gcs, azure
DBBACKUP_STORAGE_DEFAULT_PROVIDER=local

# Local Storage
DBBACKUP_STORAGE_PROVIDERS_LOCAL_ENABLED=true
DBBACKUP_STORAGE_PROVIDERS_LOCAL_PATH=./backups

# AWS S3 Storage
DBBACKUP_STORAGE_PROVIDERS_S3_ENABLED=false
DBBACKUP_STORAGE_PROVIDERS_S3_REGION=us-east-1
DBBACKUP_STORAGE_PROVIDERS_S3_BUCKET=my-backup-bucket
DBBACKUP_STORAGE_PROVIDERS_S3_ACCESS_KEY=your-access-key
DBBACKUP_STORAGE_PROVIDERS_S3_SECRET_KEY=your-secret-key

# Google Cloud Storage
DBBACKUP_STORAGE_PROVIDERS_GCS_ENABLED=false
DBBACKUP_STORAGE_PROVIDERS_GCS_PROJECT=my-project
DBBACKUP_STORAGE_PROVIDERS_GCS_BUCKET=my-backup-bucket
DBBACKUP_STORAGE_PROVIDERS_GCS_CREDENTIALS_FILE=/path/to/credentials.json

# Azure Blob Storage
DBBACKUP_STORAGE_PROVIDERS_AZURE_ENABLED=false
DBBACKUP_STORAGE_PROVIDERS_AZURE_ACCOUNT_NAME=myaccount
DBBACKUP_STORAGE_PROVIDERS_AZURE_ACCOUNT_KEY=your-account-key
DBBACKUP_STORAGE_PROVIDERS_AZURE_CONTAINER=backups

# ==============================================================================
# BACKUP CONFIGURATION
# ==============================================================================

# Compression: none, gzip, zstd, lz4
DBBACKUP_BACKUP_DEFAULT_COMPRESSION=zstd
DBBACKUP_BACKUP_COMPRESSION_LEVEL=3

# Encryption
DBBACKUP_BACKUP_ENCRYPTION_ENABLED=true
DBBACKUP_BACKUP_ENCRYPTION_ALGORITHM=aes-256-gcm
DBBACKUP_BACKUP_ENCRYPTION_KEY_FILE=/path/to/encryption.key

# Retention Policy
DBBACKUP_BACKUP_RETENTION_DAILY=7
DBBACKUP_BACKUP_RETENTION_WEEKLY=4
DBBACKUP_BACKUP_RETENTION_MONTHLY=12
DBBACKUP_BACKUP_RETENTION_YEARLY=2

# Temp Directory
DBBACKUP_BACKUP_TEMP_DIRECTORY=/tmp/backups

# Parallel Operations
DBBACKUP_BACKUP_PARALLEL_OPERATIONS=4

# ==============================================================================
# DATABASE METADATA STORAGE
# ==============================================================================

# Metadata Database Type: sqlite, postgres, mysql
DBBACKUP_DATABASE_METADATA_TYPE=sqlite
DBBACKUP_DATABASE_METADATA_HOST=localhost
DBBACKUP_DATABASE_METADATA_PORT=5432
DBBACKUP_DATABASE_METADATA_NAME=db_backup_metadata
DBBACKUP_DATABASE_METADATA_USER=dbbackup
DBBACKUP_DATABASE_METADATA_PASSWORD=your-password
DBBACKUP_DATABASE_METADATA_MAX_CONNECTIONS=10
DBBACKUP_DATABASE_METADATA_SSL_MODE=disable

# Redis (for session/cache)
DBBACKUP_DATABASE_REDIS_HOST=localhost
DBBACKUP_DATABASE_REDIS_PORT=6379
DBBACKUP_DATABASE_REDIS_PASSWORD=
DBBACKUP_DATABASE_REDIS_DB=0

# ==============================================================================
# NOTIFICATIONS
# ==============================================================================

# Slack
DBBACKUP_NOTIFICATIONS_SLACK_ENABLED=false
DBBACKUP_NOTIFICATIONS_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
DBBACKUP_NOTIFICATIONS_SLACK_CHANNEL=#backups

# Email
DBBACKUP_NOTIFICATIONS_EMAIL_ENABLED=false
DBBACKUP_NOTIFICATIONS_EMAIL_SMTP_HOST=smtp.gmail.com
DBBACKUP_NOTIFICATIONS_EMAIL_SMTP_PORT=587
DBBACKUP_NOTIFICATIONS_EMAIL_USERNAME=your-email@example.com
DBBACKUP_NOTIFICATIONS_EMAIL_PASSWORD=your-password
DBBACKUP_NOTIFICATIONS_EMAIL_FROM=backup@example.com
DBBACKUP_NOTIFICATIONS_EMAIL_TO=admin@example.com,ops@example.com

# Webhook
DBBACKUP_NOTIFICATIONS_WEBHOOK_ENABLED=false
DBBACKUP_NOTIFICATIONS_WEBHOOK_URL=https://your-webhook-endpoint.com/backup
DBBACKUP_NOTIFICATIONS_WEBHOOK_METHOD=POST
DBBACKUP_NOTIFICATIONS_WEBHOOK_HEADERS=Content-Type:application/json,Authorization:Bearer token

# ==============================================================================
# MONITORING & METRICS
# ==============================================================================

# Prometheus Metrics
DBBACKUP_METRICS_ENABLED=true
DBBACKUP_METRICS_PROMETHEUS_PORT=9090
DBBACKUP_METRICS_PROMETHEUS_PATH=/metrics

# Distributed Tracing (Jaeger)
DBBACKUP_TRACING_ENABLED=false
DBBACKUP_TRACING_JAEGER_ENDPOINT=http://localhost:14268/api/traces
DBBACKUP_TRACING_JAEGER_SERVICE_NAME=db-backup

# ==============================================================================
# SECURITY
# ==============================================================================

# JWT Configuration
DBBACKUP_SECURITY_JWT_EXPIRATION=24h

# API Keys
DBBACKUP_SECURITY_API_KEYS_ENABLED=true

# Rate Limiting
DBBACKUP_SECURITY_RATE_LIMITING_ENABLED=true
DBBACKUP_SECURITY_RATE_LIMITING_REQUESTS_PER_MINUTE=100

# CORS (Cross-Origin Resource Sharing)
DBBACKUP_API_ENABLE_CORS=true
DBBACKUP_API_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
DBBACKUP_API_CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
DBBACKUP_API_CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-CSRF-Token
DBBACKUP_API_CORS_ALLOW_CREDENTIALS=true

# API Configuration
DBBACKUP_API_PREFIX=/api/v1
DBBACKUP_API_MAX_REQUEST_SIZE=10485760
DBBACKUP_API_ENABLE_SWAGGER=false

# Frontend Configuration
DBBACKUP_FRONTEND_URL=http://localhost:3000

# ==============================================================================
# LOGGING
# ==============================================================================

# Log Level: debug, info, warn, error
DBBACKUP_LOGGING_LEVEL=info

# Log Format: json, text
DBBACKUP_LOGGING_FORMAT=json

# Log Output: stdout, file, or file path
DBBACKUP_LOGGING_OUTPUT=stdout
